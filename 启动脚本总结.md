# 启动脚本创建完成 ✅

## 📋 脚本位置
`/data/mjg/start.sh`

## 🎯 主要功能

### 1. 端口检查与清理
- ✅ 自动检查后端端口（8001）和前端端口（8091）
- ✅ 如果端口被占用，自动查找并杀掉占用进程
- ✅ 支持多种检测方法：lsof、netstat、ss、fuser

### 2. 依赖检查与安装
- ✅ 自动检查Python虚拟环境
- ✅ 自动检查并安装Python依赖包
- ✅ 自动检查并安装Node.js依赖包

### 3. 数据库初始化
- ✅ 自动检查数据库文件是否存在
- ✅ 如果不存在，自动初始化数据库

### 4. 服务启动与监控
- ✅ 启动后端服务（uvicorn）
- ✅ 启动前端服务（rspack）
- ✅ 监控启动状态（最多等待30秒）
- ✅ 验证服务是否真正启动成功

### 5. 错误自动修复
- ✅ 依赖缺失 → 自动安装
- ✅ 端口占用 → 自动清理
- ✅ 数据库问题 → 自动初始化
- ✅ 虚拟环境缺失 → 自动创建

## 🚀 使用方法

```bash
# 启动服务
./start.sh start

# 查看状态
./start.sh status

# 停止服务
./start.sh stop

# 重启服务
./start.sh restart
```

## 📊 服务地址

启动成功后：
- **后端API**: http://localhost:8001
- **API文档**: http://localhost:8001/docs
- **前端应用**: http://localhost:8091

## 📝 日志文件

- 后端日志: `/tmp/mjg_backend.log`
- 前端日志: `/tmp/mjg_frontend.log`
- 进程ID: `/tmp/mjg_backend.pid`, `/tmp/mjg_frontend.pid`

## ✨ 脚本特点

1. **智能检测**：使用多种方法检测端口占用
2. **自动修复**：根据错误信息自动修复常见问题
3. **状态监控**：实时监控服务启动状态
4. **友好提示**：彩色输出，清晰的状态提示
5. **错误处理**：完善的错误处理和日志记录

## 🎉 完成！

启动脚本已创建完成，可以直接使用！
















